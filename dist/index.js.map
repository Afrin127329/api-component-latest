{"version":3,"file":"index.js","mappings":"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","sources":["webpack://api-component/webpack/universalModuleDefinition","webpack://api-component/webpack/bootstrap","webpack://api-component/webpack/runtime/define property getters","webpack://api-component/webpack/runtime/hasOwnProperty shorthand","webpack://api-component/webpack/runtime/make namespace object","webpack://api-component/./src/components.ts","webpack://api-component/./src/panels.ts","webpack://api-component/./src/index.ts","webpack://api-component/./src/blocks.ts","webpack://api-component/./src/traits.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"api-component\"] = factory();\n\telse\n\t\troot[\"api-component\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Editor } from \"grapesjs\";\r\nimport { RequiredPluginOptions } from \".\";\r\n\r\nexport const typeForm = \"form\";\r\nexport const typeInput = \"input\";\r\nexport const typeButton = \"button\";\r\nexport const typeLabel = \"label\";\r\nexport const typeText = \"text\";\r\nexport const typeDesc = \"desc\";\r\nexport const typeDiv = \"div\";\r\nexport const typeHiddenDiv = \"hiddenDiv\";\r\n\r\nexport default (editor: Editor, opts: RequiredPluginOptions) => {\r\n  const { Components, TraitManager } = editor;\r\n  const { label } = opts;\r\n  let productData: any;\r\n  const productPrefix = opts.classPrefix;\r\n  const idContainer = `${typeForm}-container`;\r\n\r\n  const nameTrait = {\r\n    name: \"name\",\r\n  };\r\n\r\n  const placeholderTrait = {\r\n    name: \"placeholder\",\r\n  };\r\n\r\n  const requiredTrait = {\r\n    type: \"checkbox\",\r\n    name: \"required\",\r\n  };\r\n\r\n  const checkIfInPreview = (ev: Event) => {\r\n    if (!editor.Commands.isActive(\"preview\")) {\r\n      ev.preventDefault();\r\n    }\r\n  };\r\n\r\n  Components.addType(typeForm, {\r\n    view: {\r\n      onRender() {\r\n        productData = this.model.attributes.selectedData;\r\n      },\r\n      events: {\r\n        submit: (e: Event) => e.preventDefault(),\r\n      } as any,\r\n    },\r\n    model: {\r\n      defaults: {\r\n        tagName: \"form\",\r\n        droppable: \":not(form)\",\r\n        draggable: \":not(form)\",\r\n        name: label,\r\n        attributes: {\r\n          class: `${productPrefix} ${productPrefix}-container`,\r\n          method: \"post\",\r\n          action: \"https://chepapest.com/checkout\",\r\n        },\r\n        traits: [\r\n          {\r\n            type: \"select\",\r\n            name: \"product\",\r\n          },\r\n        ],\r\n        components: { type: idContainer, data: productData },\r\n        styles: `\r\n          .${productPrefix} {\r\n            max-width: 50rem;\r\n            padding: 20px;\r\n            border-radius: 10px;\r\n            box-shadow: rgb(223 223 223) 0px 6px 20px 7px;\r\n            margin: 1rem;\r\n            outline: none !important;\r\n            border: 2px solid #d9d9d9;\r\n\r\n          }\r\n\r\n          .${productPrefix}-container {\r\n            width: 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            gap: 2rem;\r\n            margin-bottom: 2rem;\r\n            padding: 3rem;\r\n          }\r\n\r\n          @media only screen and (max-width: 600px) {\r\n            .${productPrefix}{\r\n              width: 90%;\r\n  \r\n            }\r\n          }\r\n        `,\r\n      },\r\n\r\n      init() {\r\n        this.on(\"change:attributes:selectedData\", () => {\r\n          // Take Selected Data object from the traits\r\n          const data = this.getAttributes().selectedData;\r\n\r\n          // Grab the DOM Elements\r\n          const idElem: any = Components.getById(\"productId\").view;\r\n          const priceElem: any = Components.getById(\"productPrice\").view;\r\n          const quantityElem: any = Components.getById(\"productQuantity\").view;\r\n\r\n          idElem.el.innerHTML = data.id;\r\n          priceElem.el.innerHTML = data.price;\r\n          quantityElem.el.innerHTML = 1;\r\n        });\r\n      },\r\n    },\r\n  });\r\n\r\n  // For Product Title\r\n  Components.addType(typeText, {\r\n    isComponent: (el) => el.tagName == \"P\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"p\",\r\n        droppable: false,\r\n        highlightable: false,\r\n        attributes: { class: `${productPrefix}-idTitle` },\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-idTitle {\r\n            font-size: 2.5rem;\r\n            font-weight: 900;\r\n            margin-bottom: 0rem;\r\n            text-align: center;\r\n            width: 100%;\r\n          } \r\n          `,\r\n      },\r\n    },\r\n  });\r\n  // For Input  Label\r\n  Components.addType(typeLabel, {\r\n    isComponent: (el) => el.tagName == \"LABEL\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"label\",\r\n        droppable: false,\r\n        highlightable: false,\r\n        attributes: { class: `${productPrefix}-idLabel` },\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-idLabel {\r\n            \r\n          } \r\n          `,\r\n      },\r\n    },\r\n  });\r\n\r\n  // For input div\r\n  Components.addType(typeDiv, {\r\n    isComponent: (el) => el.tagName == \"DIV\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"div\",\r\n        droppable: false,\r\n        highlightable: false,\r\n        attributes: { class: `${productPrefix}-inputDiv` },\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-inputDiv {\r\n            display: flex;\r\n            gap: 2 rem;\r\n            gap: 2rem;\r\n            justify-content: space-between;\r\n            font-size: 1.4rem;\r\n            align-items: center;\r\n            width: 23rem;\r\n          }\r\n\r\n          \r\n          \r\n          @media only screen and (max-width: 600px) {\r\n            .${productPrefix}-inputDiv{\r\n              width: 100%;\r\n              font-size: 1rem;\r\n              flex-direction: column;\r\n              gap: 0.5rem;\r\n  \r\n            }\r\n          }\r\n          `,\r\n      },\r\n    },\r\n  });\r\n\r\n  // For hidden input div\r\n  Components.addType(typeHiddenDiv, {\r\n    isComponent: (el) => el.tagName == \"DIV\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"div\",\r\n        droppable: false,\r\n        highlightable: false,\r\n        attributes: { class: `${productPrefix}-hiddenInput` },\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-hiddenInput {\r\n            display: none;\r\n          }\r\n          `,\r\n      },\r\n    },\r\n  });\r\n\r\n  // Input Elements\r\n  Components.addType(typeInput, {\r\n    isComponent: (el) => el.tagName == \"INPUT\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"input\",\r\n        droppable: false,\r\n        highlightable: false,\r\n        attributes: { type: \"text\", class: `${productPrefix}-inputField` },\r\n        traits: [\r\n          nameTrait,\r\n          placeholderTrait,\r\n          {\r\n            type: \"select\",\r\n            name: \"type\",\r\n            options: [{ value: \"text\" }],\r\n          },\r\n          requiredTrait,\r\n        ],\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-inputField {\r\n            border: 2px solid #10101033;\r\n            padding: 0.5rem;\r\n            outline: none;\r\n            border-radius: 10px;\r\n          } \r\n          `,\r\n      },\r\n    },\r\n\r\n    extendFnView: [\"updateAttributes\"],\r\n    view: {\r\n      updateAttributes() {\r\n        this.el.setAttribute(\"autocomplete\", \"off\");\r\n      },\r\n    },\r\n  });\r\n\r\n  Components.addType(typeButton, {\r\n    extend: typeInput,\r\n    isComponent: (el) => el.tagName == \"BUTTON\",\r\n    model: {\r\n      defaults: {\r\n        tagName: \"button\",\r\n        attributes: {\r\n          type: \"submit\",\r\n          value: \"submit\",\r\n          class: `${productPrefix}-inputBtn`,\r\n        },\r\n        text: \"Submit Now\",\r\n        styles:\r\n          opts.style ||\r\n          `\r\n          .${productPrefix}-inputBtn{\r\n            padding: 0.5rem;\r\n            width: 100%;\r\n            cursor: pointer;\r\n            background: transparent;\r\n            border: 2px solid #d9d9d9;\r\n            border-radius: 10px;\r\n            font-size: 18px;\r\n\r\n\r\n          }\r\n          .${productPrefix}-inputBtn:hover{\r\n            background: green;\r\n            color: white;\r\n          }\r\n\r\n          @media only screen and (max-width: 600px) {\r\n            .${productPrefix}-inputBtn{\r\n              font-size: 1rem;\r\n  \r\n            }\r\n          }\r\n\r\n          `,\r\n      },\r\n    },\r\n  });\r\n};\r\n","import { Editor } from \"grapesjs\";\r\nimport { RequiredPluginOptions } from \".\";\r\n\r\nexport default (editor: Editor, opts: RequiredPluginOptions) => {\r\n  // Remove view code panel button\r\n  editor.Panels.removeButton(\"options\", \"export-template\");\r\n\r\n  // Add new button for sending data to server\r\n  editor.Panels.addButton(\"options\", {\r\n    id: \"publishSite\",\r\n    active: true, // active by default\r\n    className: \"btn-toggle-borders\",\r\n    label: \"Publish\",\r\n    command: \"sw-visibility\",\r\n  });\r\n  const btn: any = editor.Panels.getButton(\"options\", \"publishSite\");\r\n  btn.on(\"change\", async () => {\r\n    // get html  & css from the editor\r\n    const html = editor.getHtml();\r\n    const css = editor.getCss();\r\n\r\n    // get the Id from the location\r\n    const url = document.location.href;\r\n    // const url = \"https://chepapest.com/admin/landing_page/edit/1\";\r\n    const id = url.split(\"/\").pop();\r\n    const dataObj = {\r\n      id,\r\n      html: `${html}`,\r\n      css: `${css}`,\r\n    };\r\n\r\n    console.log(dataObj);\r\n    editor.setComponents(dataObj.html);\r\n    editor.setStyle(dataObj.css);\r\n\r\n    const projectEndpoint = `https://chepapest.com/api/dev/user/landing-page/${id}/save`;\r\n\r\n    // Send data\r\n    async function sendData() {\r\n      const response = await fetch(projectEndpoint, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(dataObj),\r\n      });\r\n      const res = await response.json();\r\n\r\n      if (res.data === \"OK\") {\r\n        editor.Modal.open({\r\n          title: \"Your Page has been Published. Thank you\",\r\n          styles: `\r\n          .gjs-mdl-header {\r\n            height: 50rem !important;\r\n          }\r\n          `,\r\n        });\r\n      }\r\n      console.log(res);\r\n    }\r\n\r\n    sendData();\r\n  });\r\n};\r\n","import { Editor, Plugin } from \"grapesjs\";\r\nimport loadBlocks from \"./blocks\";\r\nimport loadComponents from \"./components\";\r\nimport loadPanels from \"./panels\";\r\nimport loadTraits from \"./traits\";\r\n\r\n// Plugin options\r\nexport type PluginOptions = {\r\n  /**\r\n   * Inecessary plugin options\r\n   * @default 'api'\r\n   * @default 'API'\r\n   * @default ''\r\n   * @default ''\r\n   * @default 'api'\r\n   */\r\n  id?: string[];\r\n  label?: string[];\r\n  style?: string;\r\n  block?: (blockId: string) => {};\r\n  styleAdditional?: string;\r\n  classPrefix?: string;\r\n  blocks?: string[];\r\n  token?: any;\r\n};\r\n\r\nexport type RequiredPluginOptions = Required<PluginOptions>;\r\n\r\nconst plugin: Plugin<PluginOptions> = (editor: Editor, opts = {}) => {\r\n  // Putting the token inside Form component\r\n  let token = document.querySelector('[name=\"_token\"]');\r\n\r\n  token = document.head.querySelector('meta[name=\"csrf-token\"]');\r\n\r\n  const options: RequiredPluginOptions = {\r\n    blocks: [\"productform\"],\r\n    id: [\"productform\"],\r\n    label: [\"Product Form\"],\r\n    block: () => ({}),\r\n    style: \"\",\r\n    styleAdditional: \"\",\r\n    classPrefix: \"productform\",\r\n    token: token,\r\n    ...opts,\r\n  };\r\n\r\n  // Add components & blocks\r\n  loadComponents(editor, options);\r\n  loadBlocks(editor, options);\r\n  loadTraits(editor);\r\n  loadPanels(editor, options);\r\n};\r\n\r\nexport default plugin;\r\n","import { BlockProperties, Editor } from \"grapesjs\";\r\nimport { RequiredPluginOptions } from \".\";\r\nimport {\r\n  typeButton,\r\n  typeDiv,\r\n  typeForm,\r\n  typeHiddenDiv,\r\n  typeInput,\r\n  typeLabel,\r\n  typeText,\r\n} from \"./components\";\r\n\r\nexport default async (editor: Editor, opts: RequiredPluginOptions) => {\r\n  const { block, label, id } = opts;\r\n\r\n  const opt = opts;\r\n  const bm = editor.BlockManager;\r\n\r\n  // Funciton for adding custom blocks\r\n  const addBlock = (id: string, def: BlockProperties) => {\r\n    opt.blocks?.indexOf(id)! >= 0 &&\r\n      bm.add(id, {\r\n        ...def,\r\n        category: \"Extra\",\r\n        select: true,\r\n        ...opts.block(id),\r\n      });\r\n  };\r\n\r\n  if (block) {\r\n    const url = \"https://chepapest.com/api/dev/products\";\r\n    let productData = null;\r\n    try {\r\n      // API request when the block is added\r\n      const response = await fetch(url);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch data\");\r\n      }\r\n\r\n      // storing the response in variable\r\n      const data = await response.json();\r\n      productData = data.data;\r\n\r\n      // Adding the Form block to the UI sidebar\r\n      addBlock(id[0], {\r\n        media: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z\"/><rect width=\"10\" height=\"3\" x=\"2\" y=\"15\" rx=\".5\"/></svg>`,\r\n        label: label[0],\r\n        content: {\r\n          type: typeForm,\r\n          data: productData,\r\n          data1: 1,\r\n          components: [\r\n            {\r\n              type: typeDiv,\r\n              components: [{ type: typeText, components: \"Order Form\" }],\r\n            },\r\n            {\r\n              components: [\r\n                {\r\n                  type: typeDiv,\r\n                  components: [\r\n                    { type: typeLabel, components: \"Your Name:\" },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: {\r\n                        type: \"text\",\r\n                        placeholder: \"Enter your Name\",\r\n                        name: \"userName\",\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              components: [\r\n                {\r\n                  type: typeDiv,\r\n                  components: [\r\n                    { type: typeLabel, components: \"Phone Number:\" },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: {\r\n                        type: \"text\",\r\n                        placeholder: \"Enter your Number\",\r\n                        name: \"number\",\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              components: [\r\n                {\r\n                  type: typeDiv,\r\n                  components: [\r\n                    { type: typeLabel, components: \"Address:\" },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: {\r\n                        type: \"text\",\r\n                        placeholder: \"Enter your Address\",\r\n                        name: \"address\",\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              type: typeHiddenDiv,\r\n              components: [\r\n                {\r\n                  type: typeHiddenDiv,\r\n                  components: [\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: {\r\n                        type: \"hidden\",\r\n                        id: \"server\",\r\n                        name: \"landingpage\",\r\n                        value: \"true\",\r\n                      },\r\n                    },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: {\r\n                        type: \"hidden\",\r\n                        id: \"server\",\r\n                        name: \"_token\",\r\n                        value: \"{{ csrf_token() }}\",\r\n                      },\r\n                    },\r\n\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: { type: \"hidden\", id: \"productId\" },\r\n                      name: \"productId\",\r\n                    },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: { type: \"hidden\", id: \"productPrice\" },\r\n                      name: \"productPrice\",\r\n                    },\r\n                    {\r\n                      type: typeInput,\r\n                      attributes: { type: \"hidden\", id: \"productQuantity\" },\r\n                      name: \"productQuantity\",\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              components: [{ type: typeButton, components: \"Submit\" }],\r\n            },\r\n            // Add Hidden components\r\n          ],\r\n        },\r\n        ...block,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error in Fetching Data\", error);\r\n    }\r\n  }\r\n};\r\n","import { Editor } from \"grapesjs\";\r\n\r\nexport default async (editor: Editor) => {\r\n  const url = \"https://chepapest.com/api/dev/products\";\r\n  let productData: any = null;\r\n  try {\r\n    // API request when the block is added\r\n    const response = await fetch(url);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch data\");\r\n    }\r\n\r\n    // storing the response in variable\r\n    const data = await response.json();\r\n    productData = data.data;\r\n\r\n    editor.TraitManager.addType(\"select\", {\r\n      events: {\r\n        keyup: \"click\",\r\n      },\r\n\r\n      // Initializing the traits with HTML select elem\r\n      createInput({ trait }): any {\r\n        const traitOpts = trait.get(\"options\") || [];\r\n\r\n        const options = traitOpts.length ? traitOpts : productData;\r\n\r\n        const el = document.createElement(\"div\");\r\n        el.innerHTML = `\r\n          <select class=\"products\">\r\n          <option value=\"\" disabled selected>Select a Product</option>\r\n            ${options\r\n              .map(\r\n                (opt: any) => `<option value=\"${opt.id}\">${opt.title}</option>`\r\n              )\r\n              .join(\"\")}\r\n          </select>\r\n        `;\r\n\r\n        // Disabling the first Element\r\n        const inputType: any = el.querySelector(\".products\");\r\n        inputType.addEventListener(\"click\", (e: any) => {\r\n          let firstOpt: any = el.querySelector(\"option:first-child\");\r\n          if (e.target === firstOpt && !firstOpt.dataset.clicked) {\r\n            firstOpt.dataset.clicked = true;\r\n            firstOpt.style.display = \"none\";\r\n            firstOpt.disabled = true;\r\n          }\r\n        });\r\n\r\n        return el;\r\n      },\r\n\r\n      // Fires while clicking on the gear icon\r\n      onEvent({ elInput, component }) {\r\n        const remoteData = component.attributes.data;\r\n\r\n        const productId: any = elInput.querySelector(\".products\");\r\n        let selectedData;\r\n\r\n        // Match the selected data object from the data got from the server\r\n        for (let i = 0; i < remoteData.length; i++) {\r\n          if (remoteData[i].id == productId.value) {\r\n            selectedData = remoteData[i];\r\n          }\r\n        }\r\n        component.addAttributes({ selectedData: selectedData });\r\n        component.attributes.selectedData = selectedData;\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(\"Error in Fetching Data\", error);\r\n  }\r\n};\r\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","typeForm","typeInput","typeButton","typeLabel","typeText","typeDiv","typeHiddenDiv","editor","opts","Panels","removeButton","addButton","id","active","className","label","command","getButton","on","html","getHtml","css","getCss","url","document","location","href","split","pop","dataObj","console","log","setComponents","setStyle","projectEndpoint","fetch","method","headers","body","JSON","stringify","json","res","data","Modal","open","title","styles","sendData","token","querySelector","head","options","blocks","block","style","styleAdditional","classPrefix","productData","Components","productPrefix","idContainer","addType","view","onRender","model","attributes","selectedData","events","submit","e","preventDefault","defaults","tagName","droppable","draggable","name","class","action","traits","type","components","init","getAttributes","idElem","getById","priceElem","quantityElem","el","innerHTML","price","isComponent","highlightable","extendFnView","updateAttributes","setAttribute","extend","text","opt","bm","BlockManager","addBlock","def","indexOf","add","category","select","response","ok","Error","media","content","data1","placeholder","error","TraitManager","keyup","createInput","traitOpts","length","createElement","map","join","addEventListener","firstOpt","target","dataset","clicked","display","disabled","onEvent","elInput","component","remoteData","productId","i","addAttributes"],"sourceRoot":""}